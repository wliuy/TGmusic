export async function onRequest(c){const {request,env}=c;const P=env.PASSWORD;if(P&&request.headers.get('X-Sarah-Password')!==P)return new Response(JSON.stringify({error:"Unauthorized"}),{status:401,headers:{'Content-Type':'application/json'}});try{return new Response(await env.MUSIC_KV.get('song_list')||"[]",{headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*','Cache-Control':'no-store'}});}catch(e){return new Response("[]");}}